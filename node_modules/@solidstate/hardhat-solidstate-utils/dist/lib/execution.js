import { TASK_SOLIDSTATE } from '../task_names.js';
import { getRealPath } from '@nomicfoundation/hardhat-utils/fs';
import { readJsonFile } from '@nomicfoundation/hardhat-utils/fs';
import { findClosestPackageJson } from '@nomicfoundation/hardhat-utils/package';
import path from 'path';
export const isHardhatCLIRunning = async () => {
    try {
        const packageJsonPath = await findClosestPackageJson(process.argv[1]);
        const packageJson = await readJsonFile(packageJsonPath);
        const argvPath = await getRealPath(process.argv[1]);
        const hardhatCliPath = await getRealPath(path.resolve(path.dirname(packageJsonPath), packageJson.bin.hardhat));
        return argvPath === hardhatCliPath;
    }
    catch (error) {
        return false;
    }
};
export const isSolidstateTaskRunning = () => {
    return process.argv.includes(TASK_SOLIDSTATE);
};
